{"ast":null,"code":"import { url } from './react-app-env.d';\nimport { fetchResultsSuccess, fetchResultsError, fetchResultsPending } from './actions/findResults';\nexport function apiRequest(text) {\n  return dispatch => {\n    dispatch(fetchResultsPending());\n    fetch(`${url}search?q=${text}`).then(res => res.json()).then(res => {\n      if (res.error) {\n        throw res.error;\n      }\n\n      dispatch(fetchResultsSuccess(res.results));\n    }).catch(error => {\n      dispatch(fetchResultsError(error));\n    });\n  };\n}\nexport function apiSellerOnly(id) {\n  return fetch(`${url}search?seller_id=${id}`);\n}","map":{"version":3,"sources":["/mnt/c/users/aalvarez/projects/give-it/src/apiService.tsx"],"names":["url","fetchResultsSuccess","fetchResultsError","fetchResultsPending","apiRequest","text","dispatch","fetch","then","res","json","error","results","catch","apiSellerOnly","id"],"mappings":"AAAA,SAASA,GAAT,QAAoB,mBAApB;AACA,SACEC,mBADF,EAEEC,iBAFF,EAGEC,mBAHF,QAIO,uBAJP;AAQA,OAAO,SAASC,UAAT,CAAoBC,IAApB,EAAkC;AACvC,SAAQC,QAAD,IAAwB;AAC7BA,IAAAA,QAAQ,CAACH,mBAAmB,EAApB,CAAR;AACAI,IAAAA,KAAK,CAAE,GAAEP,GAAI,YAAWK,IAAK,EAAxB,CAAL,CACGG,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACE,KAAR,EAAe;AACb,cAAMF,GAAG,CAACE,KAAV;AACD;;AAEDL,MAAAA,QAAQ,CAACL,mBAAmB,CAACQ,GAAG,CAACG,OAAL,CAApB,CAAR;AACD,KARH,EASGC,KATH,CASSF,KAAK,IAAI;AACdL,MAAAA,QAAQ,CAACJ,iBAAiB,CAACS,KAAD,CAAlB,CAAR;AACD,KAXH;AAYD,GAdD;AAeD;AACD,OAAO,SAASG,aAAT,CAAuBC,EAAvB,EAAmC;AACxC,SAAOR,KAAK,CAAE,GAAEP,GAAI,oBAAmBe,EAAG,EAA9B,CAAZ;AACD","sourcesContent":["import { url } from './react-app-env.d';\nimport {\n  fetchResultsSuccess,\n  fetchResultsError,\n  fetchResultsPending\n} from './actions/findResults';\nimport { Dispatch } from 'redux';\nimport IProduct from './models/ProductModel';\n\nexport function apiRequest(text: string) {\n  return (dispatch: Dispatch) => {\n    dispatch(fetchResultsPending());\n    fetch(`${url}search?q=${text}`)\n      .then(res => res.json())\n      .then(res => {\n        if (res.error) {\n          throw res.error;\n        }\n\n        dispatch(fetchResultsSuccess(res.results as IProduct[]));\n      })\n      .catch(error => {\n        dispatch(fetchResultsError(error));\n      });\n  };\n}\nexport function apiSellerOnly(id: number) {\n  return fetch(`${url}search?seller_id=${id}`);\n}\n"]},"metadata":{},"sourceType":"module"}