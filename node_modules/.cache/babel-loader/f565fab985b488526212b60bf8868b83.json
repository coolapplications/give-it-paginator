{"ast":null,"code":"import _slicedToArray from\"/Users/peliculas/mercado-andres/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useStyles}from\"./Product.styles\";import Card from\"@material-ui/core/Card\";import CardActionArea from\"@material-ui/core/CardActionArea\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import CardMedia from\"@material-ui/core/CardMedia\";import Button from\"@material-ui/core/Button\";import Typography from\"@material-ui/core/Typography\";import{apiSellerOnly}from\"../../apiService\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import useMediaQuery from\"@material-ui/core/useMediaQuery\";import{useTheme}from\"@material-ui/core/styles\";export default function Product(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var theme=useTheme();var fullScreen=useMediaQuery(theme.breakpoints.down(\"sm\"));var classes=useStyles();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),seller=_useState2[0],setSeller=_useState2[1];useEffect(function(){apiSellerOnly(props.product.seller.id).then(function(res){return res.json();}).then(function(res){if(res.seller){setSeller(res.seller);}});},[props.product.seller.id]);var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};return React.createElement(\"div\",null,React.createElement(Card,{className:classes.card},React.createElement(CardActionArea,{onClick:handleClickOpen},React.createElement(CardMedia,{className:classes.media,image:props.product.thumbnail}),React.createElement(CardContent,null,React.createElement(Typography,{className:classes.notOverflow},props.product.title),React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\"},\"$ \",props.product.price),React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\"},seller.nickname))),React.createElement(CardActions,null,React.createElement(Button,{size:\"large\",color:\"primary\",onClick:function onClick(event){props.actionFunction(props.product);}},props.addOrRemove))),React.createElement(Dialog,{fullScreen:fullScreen,open:open,onClose:handleClose,\"aria-labelledby\":\"responsive-dialog-title\"},React.createElement(DialogTitle,{id:\"responsive-dialog-title\"},props.product.title),React.createElement(DialogContent,null,React.createElement(DialogContentText,null,props.product.permalink)),React.createElement(DialogActions,null,React.createElement(Button,{onClick:handleClose,color:\"primary\",autoFocus:true},\"Cerrar\"))));}","map":{"version":3,"sources":["/Users/peliculas/mercado-andres/src/components/Product/Product.tsx"],"names":["React","useState","useEffect","useStyles","Card","CardActionArea","CardActions","CardContent","CardMedia","Button","Typography","apiSellerOnly","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","useMediaQuery","useTheme","Product","props","open","setOpen","theme","fullScreen","breakpoints","down","classes","seller","setSeller","product","id","then","res","json","handleClickOpen","handleClose","card","media","thumbnail","notOverflow","title","price","nickname","event","actionFunction","addOrRemove","permalink"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CAGA,OAASC,aAAT,KAA8B,kBAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qCAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,OAASC,QAAT,KAAyB,0BAAzB,CAEA,cAAe,SAASC,CAAAA,OAAT,CAAiBC,KAAjB,CAIZ,qBACuBpB,KAAK,CAACC,QAAN,CAAe,KAAf,CADvB,oDACMoB,IADN,qBACYC,OADZ,qBAED,GAAMC,CAAAA,KAAK,CAAGL,QAAQ,EAAtB,CACA,GAAMM,CAAAA,UAAU,CAAGP,aAAa,CAACM,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,CAAhC,CACA,GAAMC,CAAAA,OAAO,CAAGxB,SAAS,EAAzB,CAJC,cAK2BF,QAAQ,CAAC,EAAD,CALnC,wCAKM2B,MALN,eAKcC,SALd,eAMD3B,SAAS,CAAC,UAAM,CACdS,aAAa,CAACS,KAAK,CAACU,OAAN,CAAcF,MAAd,CAAqBG,EAAtB,CAAb,CACGC,IADH,CACQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADX,EAEGF,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACL,MAAR,CAAgB,CACdC,SAAS,CAACI,GAAG,CAACL,MAAL,CAAT,CACD,CACF,CANH,EAOD,CARQ,CAQN,CAACR,KAAK,CAACU,OAAN,CAAcF,MAAd,CAAqBG,EAAtB,CARM,CAAT,CAUA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5Bb,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,CAIA,GAAMc,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBd,OAAO,CAAC,KAAD,CAAP,CACD,CAFD,CAIA,MACE,gCACE,oBAAC,IAAD,EAAM,SAAS,CAAEK,OAAO,CAACU,IAAzB,EACE,oBAAC,cAAD,EAAgB,OAAO,CAAEF,eAAzB,EACE,oBAAC,SAAD,EACE,SAAS,CAAER,OAAO,CAACW,KADrB,CAEE,KAAK,CAAElB,KAAK,CAACU,OAAN,CAAcS,SAFvB,EADF,CAKE,oBAAC,WAAD,MACE,oBAAC,UAAD,EAAY,SAAS,CAAEZ,OAAO,CAACa,WAA/B,EACGpB,KAAK,CAACU,OAAN,CAAcW,KADjB,CADF,CAIE,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,eAAlC,CAAkD,SAAS,CAAC,GAA5D,OACKrB,KAAK,CAACU,OAAN,CAAcY,KADnB,CAJF,CAOE,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,eAAlC,CAAkD,SAAS,CAAC,GAA5D,EACGd,MAAM,CAACe,QADV,CAPF,CALF,CADF,CAkBE,oBAAC,WAAD,MACE,oBAAC,MAAD,EACE,IAAI,CAAC,OADP,CAEE,KAAK,CAAC,SAFR,CAGE,OAAO,CAAE,iBAAAC,KAAK,CAAI,CAChBxB,KAAK,CAACyB,cAAN,CAAqBzB,KAAK,CAACU,OAA3B,EACD,CALH,EAOGV,KAAK,CAAC0B,WAPT,CADF,CAlBF,CADF,CA+BE,oBAAC,MAAD,EACE,UAAU,CAAEtB,UADd,CAEE,IAAI,CAAEH,IAFR,CAGE,OAAO,CAAEe,WAHX,CAIE,kBAAgB,yBAJlB,EAME,oBAAC,WAAD,EAAa,EAAE,CAAC,yBAAhB,EACGhB,KAAK,CAACU,OAAN,CAAcW,KADjB,CANF,CASE,oBAAC,aAAD,MACE,oBAAC,iBAAD,MAAoBrB,KAAK,CAACU,OAAN,CAAciB,SAAlC,CADF,CATF,CAYE,oBAAC,aAAD,MACE,oBAAC,MAAD,EAAQ,OAAO,CAAEX,WAAjB,CAA8B,KAAK,CAAC,SAApC,CAA8C,SAAS,KAAvD,WADF,CAZF,CA/BF,CADF,CAoDD","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { useStyles } from \"./Product.styles\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IProduct from \"../../models/ProductModel\";\nimport ISeller from \"../../models/SellerModel\";\nimport { apiSellerOnly } from \"../../apiService\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\nexport default function Product(props: {\n  product: IProduct;\n  addOrRemove: string;\n  actionFunction: (prod: IProduct) => void;\n}) {\n  const [open, setOpen] = React.useState(false);\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const classes = useStyles();\n  const [seller, setSeller] = useState({} as ISeller);\n  useEffect(() => {\n    apiSellerOnly(props.product.seller.id)\n      .then(res => res.json())\n      .then(res => {\n        if (res.seller) {\n          setSeller(res.seller);\n        }\n      });\n  }, [props.product.seller.id]);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Card className={classes.card}>\n        <CardActionArea onClick={handleClickOpen}>\n          <CardMedia\n            className={classes.media}\n            image={props.product.thumbnail}\n          />\n          <CardContent>\n            <Typography className={classes.notOverflow}>\n              {props.product.title}\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n              $ {props.product.price}\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n              {seller.nickname}\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n        <CardActions>\n          <Button\n            size=\"large\"\n            color=\"primary\"\n            onClick={event => {\n              props.actionFunction(props.product);\n            }}\n          >\n            {props.addOrRemove}\n          </Button>\n        </CardActions>\n      </Card>\n      <Dialog\n        fullScreen={fullScreen}\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">\n          {props.product.title}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>{props.product.permalink}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\n            Cerrar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}